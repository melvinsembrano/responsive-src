{"version":3,"sources":["src/responsive-src.js"],"names":[],"mappings":";;AAAA,CAAC,UAAS,MAAT,EAAiB;;AAEhB,MAAI,gBAAgB,SAAhB,aAAgB,CAAU,EAAV,EAAc,OAAd,EAAuB;AACzC,SAAK,GAAL,GAAW,IAAI,cAAc,GAAlB,CAAsB,GAAG,GAAzB,CAAX;AACA,OAAG,KAAH,CAAS,KAAT,GAAiB,MAAjB;;;AAGA,SAAK,MAAL,GAAc,YAAW;AACvB,SAAG,GAAH,GAAS,KAAK,GAAL,CAAS,SAAT,CAAmB,EAAC,GAAG,GAAG,KAAP,EAAnB,CAAT;AACD,KAFD;;AAIA,SAAK,MAAL;AACA,WAAO,IAAP;AACD,GAXD;;AAeA,MAAI,MAAM,SAAN,GAAM,CAAS,GAAT,EAAc;AACtB,SAAK,MAAL,GAAc,SAAS,aAAT,CAAuB,GAAvB,CAAd;AACA,SAAK,MAAL,CAAY,IAAZ,GAAmB,GAAnB;AACA,WAAO,IAAP;AACD,GAJD;;AAMA,MAAI,SAAJ,CAAc,QAAd,GAAyB,YAAW;AAClC,WAAO,KAAK,MAAL,CAAY,QAAZ,GAAuB,IAAvB,GAA8B,KAAK,MAAL,CAAY,IAA1C,GAAiD,KAAK,MAAL,CAAY,QAApE;AACD,GAFD;;AAIA,MAAI,SAAJ,CAAc,IAAd,GAAqB,YAAW;AAC9B,WAAO,KAAK,MAAL,CAAY,QAAnB;AACD,GAFD;;AAIA,MAAI,SAAJ,CAAc,WAAd,GAA4B,UAAS,IAAT,EAAe;AACzC,QAAG,IAAH,EAAS;AACP,UAAI,SAAS,EAAb;AACA,WAAI,IAAI,CAAR,IAAa,IAAb,EAAmB;AACjB,YAAI,KAAK,CAAL,CAAJ,EAAa;AACX,iBAAO,IAAP,CAAY,IAAI,GAAJ,GAAU,KAAK,CAAL,CAAtB;AACD,SAFD,MAGK;AACH,iBAAO,IAAP,CAAY,CAAZ;AACD;AACF;AACD,aAAO,MAAM,OAAO,IAAP,CAAY,GAAZ,CAAb;AACD,KAXD,MAYK;AACH,aAAO,KAAK,MAAL,CAAY,MAAnB;AACD;AACF,GAhBD;;AAkBA,MAAI,SAAJ,CAAc,SAAd,GAA0B,UAAS,IAAT,EAAe;AACvC,WAAO,KAAK,QAAL,KAAkB,KAAK,WAAL,CAAiB,IAAjB,CAAzB;AACD,GAFD;;AAIA,SAAO,aAAP,GAAuB,aAAvB;AACA,SAAO,aAAP,CAAqB,GAArB,GAA2B,GAA3B;;AAEA,MAAI,OAAO,MAAP,KAAkB,SAAtB,EAAiC;AAC/B,KAAC,UAAS,CAAT,EAAY;AACX,QAAE,EAAF,CAAK,aAAL,GAAqB,UAAS,OAAT,EAAkB;AACrC,eAAO,KAAK,IAAL,CAAU,YAAY;AAC3B,cAAI,OAAO,IAAI,aAAJ,CAAkB,IAAlB,EAAwB,OAAxB,CAAX;AACA,cAAI,WAAW,QAAQ,MAAvB,EAA+B;AAC7B,cAAE,MAAF,EAAU,EAAV,CAAa,QAAb,EAAuB,YAAW;AAChC,mBAAK,MAAL;AACD,aAFD;AAGD;AACF,SAPM,CAAP;AAQD,OATD;AAUD,KAXD,EAWG,MAXH;AAYD;AAEF,CAvED,EAuEG,MAvEH","file":"responsive-src.js","sourcesContent":["(function(window) {\n\n  var responsiveSrc = function (el, options) {\n    this.uri = new ResponsiveSrc.URI(el.src);\n    el.style.width = \"100%\";\n\n    // this is an element specific function and callable later to update the image widht when resized\n    this.setSrc = function() {\n      el.src = this.uri.getNewUrl({w: el.width});\n    }\n\n    this.setSrc();\n    return this;\n  };\n\n\n\n  var uri = function(url) {\n    this.parser = document.createElement(\"a\");\n    this.parser.href = url;\n    return this;\n  };\n\n  uri.prototype.fullPath = function() {\n    return this.parser.protocol + \"//\" + this.parser.host + this.parser.pathname;\n  };\n\n  uri.prototype.path = function() {\n    return this.parser.pathname;\n  };\n\n  uri.prototype.queryString = function(args) {\n    if(args) {\n      var params = [];\n      for(var a in args) {\n        if (args[a]) {\n          params.push(a + \"=\" + args[a]);\n        }\n        else {\n          params.push(a);\n        }\n      }\n      return \"?\" + params.join(\"&\");\n    }\n    else {\n      return this.parser.search;\n    }\n  }\n\n  uri.prototype.getNewUrl = function(args) {\n    return this.fullPath() + this.queryString(args);\n  }\n\n  window.ResponsiveSrc = responsiveSrc;\n  window.ResponsiveSrc.URI = uri;\n\n  if (window.jQuery !== undefined) {\n    (function($) {\n      $.fn.responsiveSrc = function(options) {\n        return this.each(function () {\n          var resp = new ResponsiveSrc(this, options);\n          if (options && options.active) {\n            $(window).on(\"resize\", function() {\n              resp.setSrc();\n            });\n          }\n        });\n      }\n    })(jQuery);\n  }\n\n})(window);\n"]}